<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Timer</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">

<style>
:root {
  --bg: #fafafa;
  --fg: #1a1a1a;

  --card-bg: #ffffff;
  --card-shadow: 0 1px 3px rgba(0,0,0,.15);

  --btn-bg: #ffffff;
  --btn-fg: #1a1a1a;
  --btn-shadow: 0 1px 2px rgba(0,0,0,.18);

  --input-border: rgba(0,0,0,.3);
  --input-focus: rgba(0,0,0,.7);
}

body.dark {
  --bg: #121212;
  --fg: #ffffff;

  --card-bg: #1a1a1a;
  --card-shadow: 0 1px 5px rgba(0,0,0,.6);

  --btn-bg: #1e1e1e;
  --btn-fg: #ffffff;
  --btn-shadow: 0 1px 5px rgba(0,0,0,.8);

  --input-border: rgba(255,255,255,.25);
  --input-focus: rgba(255,255,255,.7);
}

/* base */
body {
  margin: 0;
  padding: 24px;
  background: var(--bg);
  color: var(--fg);
  font-family: "Roboto", sans-serif;

  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;

  transition: background .25s, color .25s;
}

.timer-container {
  width: 100%;
  max-width: 360px;
  padding: 20px 20px 28px;
  border-radius: 20px;
  background: var(--card-bg);
  box-shadow: var(--card-shadow);
  transition: background .25s, box-shadow .25s;
  text-align: center;
}

/* time */
.display {
  font-size: 3.2rem;
  font-weight: 500;
  font-variant-numeric: tabular-nums;
  margin-bottom: 20px;
}

/* input row */
.input-group {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: .6rem;
  margin-bottom: 14px;
}

input {
  width: 3.2rem;
  padding: 8px;
  background: transparent;
  color: var(--fg);

  font-size: .9rem;
  text-align: center;

  border: 1px solid var(--input-border);
  border-radius: 8px;

  transition: border-color .2s, background .2s, color .2s;
  outline: none;
}

/* remove arrows */
input::-webkit-inner-spin-button,
input::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
input[type=number] {
  -moz-appearance: textfield;
}

input:focus {
  border-color: var(--input-focus);
}

.input-label {
  font-size: .75rem;
  opacity: .7;
}

/* buttons */
button {
  font-family: inherit;
  font-size: .85rem;
  padding: 8px 14px;

  border: none;
  border-radius: 999px;
  cursor: pointer;

  background: var(--btn-bg);
  color: var(--btn-fg);
  box-shadow: var(--btn-shadow);

  transition: background .2s, color .2s, opacity .15s;
}

button:hover {
  opacity: .8;
}
button:active {
  opacity: .6;
}

/* play/pause + reset row */
.controls {
  display: flex;
  justify-content: center;
  gap: .6rem;
  margin-top: 14px;
}
.play-pause-btn {
  width: 100%;
  max-width: 95px;
}

/* SET btn small */
#setBtn {
  font-size: .75rem;
  padding: 6px 12px;
}

/* dark-mode toggle */
.theme-toggle {
  position: absolute;
  top: 12px;
  right: 12px;

  background: transparent;
  box-shadow: none;
  font-size: 1.35rem;

  padding: 6px;
  cursor: pointer;
  opacity: .7;
}
.theme-toggle:hover {
  opacity: 1;
}
</style>

</head>

<body>

<button class="theme-toggle" id="themeToggle">ðŸŒ™</button>

<div class="timer-container">
  <div class="display" id="display">00:00</div>

  <div class="input-group">
    <input type="number" id="minutesInput" min="0" max="999" value="0">
    <span class="input-label">m</span>

    <input type="number" id="secondsInput" min="0" max="59" value="0">
    <span class="input-label">s</span>

    <button id="setBtn">SET</button>
  </div>

  <div class="controls">
    <button class="play-pause-btn" id="playPauseBtn">â–¶</button>
    <button id="resetBtn">RESET</button>
  </div>
</div>

<script>
let seconds = 0;
let interval = null;
let isRunning = false;

const display = document.getElementById('display');
const playPauseBtn = document.getElementById('playPauseBtn');
const resetBtn = document.getElementById('resetBtn');
const themeToggle = document.getElementById('themeToggle');
const minutesInput = document.getElementById('minutesInput');
const secondsInput = document.getElementById('secondsInput');
const setBtn = document.getElementById('setBtn');

// theme
themeToggle.addEventListener('click', () => {
  document.body.classList.toggle('dark');
  themeToggle.textContent = document.body.classList.contains('dark') ? 'â˜€ï¸' : 'ðŸŒ™';
});

// display time
function updateDisplay() {
  const mins = Math.floor(seconds / 60);
  const secs = seconds % 60;
  display.textContent = `${String(mins).padStart(2,'0')}:${String(secs).padStart(2,'0')}`;
}

// play/pause UI update
function updatePlayPauseButton() {
  playPauseBtn.textContent = isRunning ? 'â¸' : 'â–¶';
}

// core functions
function start() {
  if (seconds === 0) return;
  isRunning = true;
  updatePlayPauseButton();

  interval = setInterval(() => {
    if (seconds > 0) {
      seconds--;
      updateDisplay();
    } else {
      pause();
    }
  }, 1000);
}

function pause() {
  isRunning = false;
  updatePlayPauseButton();
  if (interval) {
    clearInterval(interval);
    interval = null;
  }
}

function togglePlayPause() {
  isRunning ? pause() : start();
}

function reset() {
  pause();
  seconds = 0;
  updateDisplay();
  minutesInput.value = 0;
  secondsInput.value = 0;
}

function setTime() {
  pause();
  const mins = parseInt(minutesInput.value) || 0;
  const secs = parseInt(secondsInput.value) || 0;
  seconds = (mins * 60) + secs;
  updateDisplay();
}

// events
playPauseBtn.addEventListener('click', togglePlayPause);
resetBtn.addEventListener('click', reset);
setBtn.addEventListener('click', setTime);

minutesInput.addEventListener('keypress', e => e.key === 'Enter' && setTime());
secondsInput.addEventListener('keypress', e => e.key === 'Enter' && setTime());

// init
updateDisplay();
updatePlayPauseButton();
</script>

</body>
</html>
